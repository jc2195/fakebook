<div class="container-fluid d-flex flex-row align-items-center mb-1">
  <div class="mb-2 mt-2 mr-3"><% if post.user.profile.profile_picture.attached? %>
    <%= image_tag post.user.profile.profile_picture.variant(resize: '60x60!'), class: "img-fluid rounded-circle" %>
  <% else %>
    <%= image_tag gravatar_image_url(post.user.email, size: '60'), height: '60', width: '60', class: 'rounded-circle img-fluid' %>
  <% end %></div>
  <div><strong><%= link_to(post.user.name, user_path(post.user.id)) %></strong></div>
</div>
<div class="container-fluid pb-3"><%= post.content %></div>
<div class="container-fluid d-flex flex-row align-content-center">
  <div class="pr-3 text-muted"><%= post.likes.all.count %><%= ' likes '%></div>
  <% like_link = generate_like_link(post) %>
  <%= form_with url: like_link[:link], method: like_link[:link_method] do |f| %>
    <%= f.hidden_field 'post_id', :value => post.id %>
    <%= f.hidden_field 'user_id', :value => current_user[:id] %>
    <%= f.submit 'Like', class: "btn btn-primary btn-sm" %>
  <% end %>
  <div class="ml-auto pb-3 text-muted"><%= post.comments.all.count %><%= ' comments'%></div>
</div>